<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html>
<head>

<title>Categor&iacute;a, usuario p&aacute;ginas</title>
<meta http-equiv="cache-control" content="no-cache" />
<meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1" />

<!-- jQuery -->
<script type="text/javascript" charset="utf8"
	src="http://ajax.aspnetcdn.com/ajax/jQuery/jquery-1.8.2.min.js"></script>

<!-- DataTables -->
<script type="text/javascript" charset="utf8"
	src="http://ajax.aspnetcdn.com/ajax/jquery.dataTables/1.9.4/jquery.dataTables.min.js"></script>


<!-- DataTables CSS -->
<link rel="stylesheet" type="text/css"
	href="http://ajax.aspnetcdn.com/ajax/jquery.dataTables/1.9.4/css/jquery.dataTables.css" />

<link rel="stylesheet" type="text/css"
	href="http://code.jquery.com/ui/1.9.1/themes/base/jquery-ui.css" />

<!-- Graph -->
<script type="text/javascript" charset="utf8"
	src="http://cdn.jsdelivr.net/jqplot/1.0.4/jquery.jqplot.min.js"></script>
<script type="text/javascript" charset="utf8"
	src="http://cdn.jsdelivr.net/jqplot/1.0.4/plugins/jqplot.pieRenderer.min.js"></script>
<script type="text/javascript" charset="utf8"
	src="http://cdn.jsdelivr.net/jqplot/1.0.4/plugins/jqplot.donutRenderer.min.js"></script>
<link rel="stylesheet" type="text/css"
	href="http://cdn.jsdelivr.net/jqplot/1.0.4/jquery.jqplot.css" />

<script type="text/javascript" charset="utf-8">

	$.ajaxSetup({
		async : false
	});
	
	(function($) {
		/*
		 * Function: fnGetColumnData
		 * Purpose:  Return an array of table values from a particular column.
		 * Returns:  array string: 1d data array
		 * Inputs:   object:oSettings - dataTable settings object. This is always the last argument past to the function
		 *           int:iColumn - the id of the column to extract the data from
		 *           bool:bUnique - optional - if set to false duplicated values are not filtered out
		 *           bool:bFiltered - optional - if set to false all the table data is used (not only the filtered)
		 *           bool:bIgnoreEmpty - optional - if set to false empty values are not filtered from the result array
		 * Author:   Benedikt Forchhammer <b.forchhammer /AT\ mind2.de>
		 */
		$.fn.dataTableExt.oApi.fnGetColumnData = function ( oSettings, iColumn, bUnique, bFiltered, bIgnoreEmpty ) {
		    // check that we have a column id
		    if ( typeof iColumn == "undefined" ) return new Array();
		     
		    // by default we only want unique data
		    if ( typeof bUnique == "undefined" ) bUnique = true;
		     
		    // by default we do want to only look at filtered data
		    if ( typeof bFiltered == "undefined" ) bFiltered = true;
		     
		    // by default we do not want to include empty values
		    if ( typeof bIgnoreEmpty == "undefined" ) bIgnoreEmpty = true;
		     
		    // list of rows which we're going to loop through
		    var aiRows;
		     
		    // use only filtered rows
		    if (bFiltered == true) aiRows = oSettings.aiDisplay;
		    // use all rows
		    else aiRows = oSettings.aiDisplayMaster; // all row numbers
		 
		    // set up data array   
		    var asResultData = new Array();
		     
		    for (var i=0,c=aiRows.length; i<c; i++) {
		        iRow = aiRows[i];
		        var aData = this.fnGetData(iRow);
		        var sValue = aData[iColumn];
		         
		        // ignore empty values?
		        if (bIgnoreEmpty == true && sValue.length == 0) continue;
		 
		        // ignore unique values?
		        else if (bUnique == true && jQuery.inArray(sValue, asResultData) > -1) continue;
		         
		        // else push the value onto the result data array
		        else asResultData.push(sValue);
		    }
		     
		    return asResultData;
		}}(jQuery));
	
	function fnCreateSelect( aData )
	{
	    var r='<select><option value=""></option>', i, iLen=aData.length;
	    for ( i=0 ; i<iLen ; i++ )
	    {
	        r += '<option value="'+aData[i]+'">'+aData[i]+'</option>';
	    }
	    return r+'</select>';
	}
	 
	
	
	var url = "output/categoria_usuario_pagina.json";
	var total = 0;
	var contenido = Object;
	var itemsGraph = [];
	
	
	$(document).ready(
			function() {
				
				$.getJSON(url, function(data) {
					contenido = data.aaData;
				});
				
				var oTable = $('#table_ppal').dataTable({
					"bJQueryUI" : true,
					"bProcessing" : true,
					"sPaginationType" : "full_numbers",
					"aaData" : contenido,
					"aoColumns" : [ {
						"mData" : "categoria"
					}, {
						"mData" : "usuario"
					}, {
						"mData" : "pagina"
					}, {
						"mData" : "ocurrencias"
					} ],

					"oLanguage": {
			            "sSearch": "Search all columns:"
			        }
					
				});
				
				
				 /* Initialise the DataTable */
			    /*var oTable = $('#example').dataTable( {
			        "oLanguage": {
			            "sSearch": "Search all columns:"
			        }
			    } );*/
			     
			    /* Add a select menu for each TH element in the table footer */
			    $("tfoot th").each( function ( i ) {
			        this.innerHTML = fnCreateSelect( oTable.fnGetColumnData(this.innerHTML) );
			        $('select', this).change( function () {
			            oTable.fnFilter( $(this).val(), i );
			        } );
			    } );
			    
			    
			});
</script>
<style>
.ui-button {
	padding-right: 7px;
	padding-left: 7px;
}
</style>
</head>
<body><div style="width: 800px">
<h1>Categor&iacute;a, usuario p&aacute;ginas</h1><br />
</div>
	<div style="width: 800px">

		<table cellpadding="0" cellspacing="0" border="0" class="display"
			id="table_ppal">
			<thead>
				<tr>
					<th>Categor&iacute;a</th>
					<th>Usuario</th>
					<th>P&aacute;ginas</th>
					<th>Ocurrencias</th>
				</tr>
			</thead>
			<tbody>

			</tbody>
			<tfoot>
				<tr>
					<th>categoria</th>
					<th>usuario</th>
					<th>pagina</th>
					<th>ocurrencias</th>
				</tr>
			</tfoot>
		</table>
	</div>
</body>
</html>